<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RainCast — Rainfall Prediction System</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />

</head>
<body>

<nav>
  <a class="nav-logo" href="/">Rain<span>Cast</span></a>
  <div class="nav-links">
    <a href="/">Overview</a>
    <a href="/predict">Predict</a>
    <a href="/whatif">What-If</a>
  </div>
</nav>

<div class="page">

  <!-- ── HERO ── -->
  <div class="hero">
    <div style="animation: fadeUp 0.7s ease both;">
      <div class="hero-eyebrow">ML-Powered Weather Intelligence</div>
      <h1>Predict <span class="accent">Rainfall</span> with Confidence</h1>
      <p class="hero-description">
        Trained on 366 daily weather observations using ensemble methods and 
        hyperparameter-tuned GridSearchCV, RainCast delivers reliable rainfall 
        forecasts from real atmospheric data.
      </p>
      <a href="/predict" class="cta-button">
        Run Prediction
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </a>
    </div>

    <!-- Right: Key stats -->
    <div class="stats-panel">

      <div class="stat-card">
        <div class="stat-icon-box">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M17 8a5 5 0 0 0-10 0c0 5 5 9 5 9s5-4 5-9z"/><circle cx="12" cy="8" r="2"/></svg>
        </div>
        <div>
          <div class="stat-label">Tuned Random Forest · Best Model</div>
          <div class="stat-value">86.27%</div>
          <div class="stat-sub">Test F1 · 88% Recall · CV F1: 0.8729</div>
        </div>
        <div class="badge">Active</div>
      </div>

      <div class="stat-card">
        <div class="stat-icon-box">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
        </div>
        <div>
          <div class="stat-label">Input Features</div>
          <div class="stat-value">7</div>
          <div class="stat-sub">Pressure · Humidity · Dew Point · Wind &amp; more</div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon-box">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/></svg>
        </div>
        <div>
          <div class="stat-label">Tuning Strategy</div>
          <div class="stat-value" style="font-size:1.05rem;">GridSearchCV</div>
          <div class="stat-sub">5-Fold CV · F1 Scoring · 100 Estimators</div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon-box">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
        </div>
        <div>
          <div class="stat-label">Imbalance Handling</div>
          <div class="stat-value" style="font-size:1.05rem;">Class Weighting</div>
          <div class="stat-sub">No data loss · No leakage</div>
        </div>
      </div>

    </div>
  </div>

  <!-- ── DATASET STRIP ── -->
  <div class="section" style="animation: fadeUp 0.8s ease both; animation-delay: 0.15s;">
    <div class="section-heading">Dataset at a Glance</div>
    <div class="dataset-bar">
      <div class="ds-item">
        <div class="ds-num">366</div>
        <div class="ds-label">Daily Observations</div>
      </div>
      <div class="ds-item">
        <div class="ds-num">292</div>
        <div class="ds-label">Training Samples (80%)</div>
      </div>
      <div class="ds-item">
        <div class="ds-num">74</div>
        <div class="ds-label">Test Samples (20%)</div>
      </div>
      <div class="ds-item">
        <div class="ds-num">199</div>
        <div class="ds-label">Rain Days (Train)</div>
      </div>
      <div class="ds-item">
        <div class="ds-num">5-Fold</div>
        <div class="ds-label">Cross-Validation</div>
      </div>
      <div class="ds-item">
        <div class="ds-num">Stratified</div>
        <div class="ds-label">Train-Test Split</div>
      </div>
    </div>
  </div>

  <!-- ── FEATURE INFLUENCE ── -->
  <div class="section" style="animation: fadeUp 0.8s ease both; animation-delay: 0.25s;">
    <div class="section-heading">How Input Values Affect Rainfall Prediction</div>
    <div class="features-grid">

      <!-- Humidity -->
      <div class="feature-card">
        <div class="feature-icon-col">
          <div class="feature-icon-box">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"/></svg>
          </div>
          <span class="influence-pill positive">Raises</span>
        </div>
        <div>
          <div class="feature-name">Humidity <span class="feature-unit">%</span></div>
          <div class="feature-desc">The strongest moisture indicator. High relative humidity means the atmosphere is close to saturation — the primary condition for precipitation. Values above 80% are strongly associated with rainfall in this dataset.</div>
          <div class="influence-bar-wrap">
            <div class="influence-bar-track"><div class="influence-bar-fill positive" style="width: 92%"></div></div>
            <span class="influence-pct">Very High</span>
          </div>
        </div>
      </div>

      <!-- Dew Point -->
      <div class="feature-card">
        <div class="feature-icon-col">
          <div class="feature-icon-box">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
          </div>
          <span class="influence-pill positive">Raises</span>
        </div>
        <div>
          <div class="feature-name">Dew Point <span class="feature-unit">°C</span></div>
          <div class="feature-desc">Retained over temperature variables due to its stronger physical link to rainfall. A high dew point indicates abundant moisture in the air. When dew point approaches the actual temperature, condensation and cloud formation become likely.</div>
          <div class="influence-bar-wrap">
            <div class="influence-bar-track"><div class="influence-bar-fill positive" style="width: 85%"></div></div>
            <span class="influence-pct">High</span>
          </div>
        </div>
      </div>

      <!-- Cloud Cover -->
      <div class="feature-card">
        <div class="feature-icon-col">
          <div class="feature-icon-box">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"/></svg>
          </div>
          <span class="influence-pill positive">Raises</span>
        </div>
        <div>
          <div class="feature-name">Cloud Cover <span class="feature-unit">%</span></div>
          <div class="feature-desc">Dense cloud cover is a direct precursor to rain. High values (above 75%) indicate thick cloud layers capable of producing precipitation. Used alongside sunshine hours, cloud cover helps the model distinguish overcast from clear days.</div>
          <div class="influence-bar-wrap">
            <div class="influence-bar-track"><div class="influence-bar-fill positive" style="width: 78%"></div></div>
            <span class="influence-pct">High</span>
          </div>
        </div>
      </div>

      <!-- Sunshine -->
      <div class="feature-card">
        <div class="feature-icon-col">
          <div class="feature-icon-box">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
          </div>
          <span class="influence-pill negative">Lowers</span>
        </div>
        <div>
          <div class="feature-name">Sunshine <span class="feature-unit">hrs</span></div>
          <div class="feature-desc">Acts as an inverse signal. Long sunshine hours indicate clear skies and dry conditions. Rainy days have near-zero sunshine; values above 6 hours strongly suggest no rainfall. It complements cloud cover as an atmospheric clarity measure.</div>
          <div class="influence-bar-wrap">
            <div class="influence-bar-track"><div class="influence-bar-fill negative" style="width: 80%"></div></div>
            <span class="influence-pct">High (inverse)</span>
          </div>
        </div>
      </div>

      <!-- Pressure -->
      <div class="feature-card">
        <div class="feature-icon-col">
          <div class="feature-icon-box">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20z"/><path d="M12 6v6l4 2"/></svg>
          </div>
          <span class="influence-pill negative">Lowers</span>
        </div>
        <div>
          <div class="feature-name">Pressure <span class="feature-unit">hPa</span></div>
          <div class="feature-desc">Low atmospheric pressure is associated with unstable air and storm systems, increasing rainfall likelihood. High pressure (above ~1020 hPa) suppresses cloud formation and indicates fair weather. A falling pressure trend is a classic rain signal.</div>
          <div class="influence-bar-wrap">
            <div class="influence-bar-track"><div class="influence-bar-fill negative" style="width: 70%"></div></div>
            <span class="influence-pct">Moderate (inverse)</span>
          </div>
        </div>
      </div>

      <!-- Wind Direction -->
      <div class="feature-card">
        <div class="feature-icon-col">
          <div class="feature-icon-box">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
          </div>
          <span class="influence-pill positive">Context</span>
        </div>
        <div>
          <div class="feature-name">Wind Direction <span class="feature-unit">°</span></div>
          <div class="feature-desc">Determines where air masses originate. Winds from oceanic or tropical directions typically carry more moisture. The model treats this as a cyclical feature — directions around 90°–180° (onshore easterlies) are common on rainy days in this dataset.</div>
          <div class="influence-bar-wrap">
            <div class="influence-bar-track"><div class="influence-bar-fill positive" style="width: 52%"></div></div>
            <span class="influence-pct">Moderate</span>
          </div>
        </div>
      </div>

      <!-- Wind Speed -->
      <div class="feature-card">
        <div class="feature-icon-col">
          <div class="feature-icon-box">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"/></svg>
          </div>
          <span class="influence-pill positive">Context</span>
        </div>
        <div>
          <div class="feature-name">Wind Speed <span class="feature-unit">km/h</span></div>
          <div class="feature-desc">Moderate wind speeds can enhance moisture convergence and cloud development. Very calm winds on a humid day may still produce rain, while extreme speeds may indicate storm fronts already in progress. Works best in combination with direction and pressure.</div>
          <div class="influence-bar-wrap">
            <div class="influence-bar-track"><div class="influence-bar-fill positive" style="width: 44%"></div></div>
            <span class="influence-pct">Low–Moderate</span>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- ── MODEL COMPARISON ── -->
  <div class="section" style="animation: fadeUp 0.8s ease both; animation-delay: 0.35s;">
    <div class="section-heading">Model Comparison</div>

    <div style="background:var(--bg-card); border:1px solid var(--border); border-radius:14px; overflow:hidden;">
      <table style="width:100%; border-collapse:collapse; font-size:0.84rem;">

        <!-- Header row: model names -->
        <thead>
          <tr>
            <th style="padding:14px 20px; text-align:left; font-family:'Space Mono',monospace; font-size:0.65rem; font-weight:400; color:var(--text-muted); letter-spacing:0.12em; border-bottom:1px solid var(--border); width:22%;">METRIC</th>

            <!-- RF Tuned -->
            <th style="padding:14px 16px; border-bottom:1px solid var(--border); border-left:1px solid var(--border); background:rgba(0,210,255,0.04);">
              <div style="display:flex; align-items:center; justify-content:space-between; gap:8px;">
                <span style="font-size:0.92rem; font-weight:600; color:var(--text-primary);">RF · Tuned</span>
                <span class="model-tag active">Deployed</span>
              </div>
            </th>

            <!-- RF Base -->
            <th style="padding:14px 16px; border-bottom:1px solid var(--border); border-left:1px solid var(--border);">
              <div style="display:flex; align-items:center; justify-content:space-between; gap:8px;">
                <span style="font-size:0.92rem; font-weight:600; color:var(--text-primary);">RF · Base</span>
                <span class="model-tag baseline">Baseline</span>
              </div>
            </th>

            <!-- XGBoost -->
            <th style="padding:14px 16px; border-bottom:1px solid var(--border); border-left:1px solid var(--border);">
              <div style="display:flex; align-items:center; justify-content:space-between; gap:8px;">
                <span style="font-size:0.92rem; font-weight:600; color:var(--text-primary);">XGBoost</span>
                <span class="model-tag baseline">Baseline</span>
              </div>
            </th>

            <!-- Decision Tree -->
            <th style="padding:14px 16px; border-bottom:1px solid var(--border); border-left:1px solid var(--border);">
              <div style="display:flex; align-items:center; justify-content:space-between; gap:8px;">
                <span style="font-size:0.92rem; font-weight:600; color:var(--text-primary);">Decision Tree</span>
                <span class="model-tag baseline">Baseline</span>
              </div>
            </th>
          </tr>
        </thead>

        <tbody>
          <!-- Group: Cross-Validation (5-Fold) -->
          <tr>
            <td colspan="5" style="padding:8px 20px 4px; font-family:'Space Mono',monospace; font-size:0.6rem; color:var(--text-muted); letter-spacing:0.14em; background:var(--bg-surface);">CROSS-VALIDATION · 5-FOLD</td>
          </tr>
          <tr class="trow">
            <td class="tlabel">Mean F1</td>
            <td class="tval tcol-featured"><span class="tnum highlight">0.8729</span></td>
            <td class="tval"><span class="tnum">0.8458</span></td>
            <td class="tval"><span class="tnum">0.8064</span></td>
            <td class="tval"><span class="tnum">0.7471</span></td>
          </tr>
          <tr class="trow">
            <td class="tlabel">Mean Accuracy</td>
            <td class="tval tcol-featured"><span class="tnum highlight">0.8184</span></td>
            <td class="tval"><span class="tnum">0.7840</span></td>
            <td class="tval"><span class="tnum">0.7430</span></td>
            <td class="tval"><span class="tnum">0.6611</span></td>
          </tr>

          <!-- Group: Test Set -->
          <tr>
            <td colspan="5" style="padding:8px 20px 4px; font-family:'Space Mono',monospace; font-size:0.6rem; color:var(--text-muted); letter-spacing:0.14em; background:var(--bg-surface);">TEST SET</td>
          </tr>
          <tr class="trow">
            <td class="tlabel">Accuracy</td>
            <td class="tval tcol-featured"><span class="tnum highlight">81.08%</span></td>
            <td class="tval"><span class="tnum">81.08%</span></td>
            <td class="tval"><span class="tnum">71.62%</span></td>
            <td class="tval"><span class="tnum">71.62%</span></td>
          </tr>
          <tr class="trow">
            <td class="tlabel">F1 (class 1)</td>
            <td class="tval tcol-featured"><span class="tnum highlight">86.27%</span></td>
            <td class="tval"><span class="tnum">86.54%</span></td>
            <td class="tval"><span class="tnum">79.21%</span></td>
            <td class="tval"><span class="tnum">79.21%</span></td>
          </tr>

          <!-- Group: Class 0 — No Rain -->
          <tr>
            <td colspan="5" style="padding:8px 20px 4px; font-family:'Space Mono',monospace; font-size:0.6rem; color:var(--text-muted); letter-spacing:0.14em; background:var(--bg-surface);">CLASS 0 · NO RAIN</td>
          </tr>
          <tr class="trow">
            <td class="tlabel">Precision</td>
            <td class="tval tcol-featured"><span class="tnum">0.73</span></td>
            <td class="tval"><span class="tnum">0.75</span></td>
            <td class="tval"><span class="tnum">0.57</span></td>
            <td class="tval"><span class="tnum">0.57</span></td>
          </tr>
          <tr class="trow">
            <td class="tlabel">Recall</td>
            <td class="tval tcol-featured"><span class="tnum">0.67</span></td>
            <td class="tval"><span class="tnum">0.62</span></td>
            <td class="tval"><span class="tnum">0.54</span></td>
            <td class="tval"><span class="tnum">0.54</span></td>
          </tr>
          <tr class="trow">
            <td class="tlabel">F1</td>
            <td class="tval tcol-featured"><span class="tnum">0.70</span></td>
            <td class="tval"><span class="tnum">0.68</span></td>
            <td class="tval"><span class="tnum">0.55</span></td>
            <td class="tval"><span class="tnum">0.55</span></td>
          </tr>

          <!-- Group: Class 1 — Rain -->
          <tr>
            <td colspan="5" style="padding:8px 20px 4px; font-family:'Space Mono',monospace; font-size:0.6rem; color:var(--cyan); letter-spacing:0.14em; background:var(--bg-surface);">CLASS 1 · RAIN</td>
          </tr>
          <tr class="trow">
            <td class="tlabel">Precision</td>
            <td class="tval tcol-featured"><span class="tnum highlight">0.85</span></td>
            <td class="tval"><span class="tnum">0.83</span></td>
            <td class="tval"><span class="tnum">0.78</span></td>
            <td class="tval"><span class="tnum">0.78</span></td>
          </tr>
          <tr class="trow">
            <td class="tlabel">Recall</td>
            <td class="tval tcol-featured"><span class="tnum highlight">0.88</span></td>
            <td class="tval"><span class="tnum">0.90</span></td>
            <td class="tval"><span class="tnum">0.80</span></td>
            <td class="tval"><span class="tnum">0.80</span></td>
          </tr>
          <tr class="trow last">
            <td class="tlabel">F1</td>
            <td class="tval tcol-featured"><span class="tnum highlight">0.86</span></td>
            <td class="tval"><span class="tnum">0.87</span></td>
            <td class="tval"><span class="tnum">0.79</span></td>
            <td class="tval"><span class="tnum">0.79</span></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Page-specific: comparison table styles, only used on home.html -->
    <style>
      .trow td { border-bottom: 1px solid var(--border); }
      .trow.last td { border-bottom: none; }
      .tlabel {
        padding: 11px 20px;
        color: var(--text-secondary);
        font-size: 0.82rem;
      }
      .tval {
        padding: 11px 16px;
        border-left: 1px solid var(--border);
        text-align: center;
      }
      .tcol-featured { background: rgba(0, 210, 255, 0.03); }
      .tnum {
        font-family: 'Space Mono', monospace;
        font-size: 0.88rem;
        font-weight: 700;
        color: var(--text-primary);
      }
      .tnum.highlight { color: var(--cyan); }
    </style>
  </div>

</div><!-- /page -->

<!-- ── FOOTER ── -->
<footer>
  <div class="footer-inner">

    <div class="footer-cta-block">
      <div class="footer-eyebrow">Ready to forecast?</div>
      <h2 class="footer-heading">Run a <span class="accent">Rainfall</span> Prediction</h2>
      <p class="footer-sub">Enter seven atmospheric readings and get an instant probability estimate from our tuned Random Forest model.</p>
      <a href="/predict" class="cta-button" style="margin-top: 28px;">
        Start Predicting
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </a>
    </div>

    <div class="footer-divider"></div>

    <div class="footer-meta">
      <div class="footer-brand">
        <span class="nav-logo" style="font-size:0.9rem;">Rain<span>Cast</span></span>
        <p class="footer-tagline">ML-Powered Rainfall Intelligence</p>
      </div>
      <div class="footer-details">
        <div class="footer-detail-item">
          <span class="footer-detail-label">Model</span>
          <span class="footer-detail-val">Random Forest · GridSearchCV Tuned</span>
        </div>
        <div class="footer-detail-item">
          <span class="footer-detail-label">Dataset</span>
          <span class="footer-detail-val">366 daily observations · Stratified split</span>
        </div>
        <div class="footer-detail-item">
          <span class="footer-detail-label">Best CV F1</span>
          <span class="footer-detail-val">0.8729 · Test F1: 86.27%</span>
        </div>
      </div>
      <p class="footer-copy">Built with Flask &amp; scikit-learn</p>
    </div>

  </div>
</footer>

  <script src="{{ url_for('static', filename='js/script.js') }}" defer></script>
</body>
</html>
